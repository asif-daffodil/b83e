var o=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var m=n=>o(n,"__esModule",{value:!0});var p=(n,e)=>{for(var t in e)o(n,t,{get:e[t],enumerable:!0})},x=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of d(e))!f.call(n,s)&&(t||s!=="default")&&o(n,s,{get:()=>e[s],enumerable:!(i=c(e,s))||i.enumerable});return n};var b=(n=>(e,t)=>n&&n.get(e)||(t=x(m({}),e,1),n&&n.set(e,t),t))(typeof WeakMap!="undefined"?new WeakMap:0);var w={};p(w,{ERROR_INVALID_ARGUMENT:()=>u,ERROR_STRING_IS_NOT_HEADER:()=>g,ERROR_UNSATISFIABLE_RESULT:()=>l,Ranges:()=>R,parseRange:()=>W});var u=-3,g=-2,l=-1;function I(n){let e=n.map(h).sort(E),t=0;for(let s=1;s<e.length;s++){let a=e[s],r=e[t];a.start>r.end+1?e[++t]=a:a.end>r.end&&(r.end=a.end,r.index=Math.min(r.index,a.index))}e.length=t+1;let i=[...e].sort(N).map(y);return i.type=n.type,i}function h(n,e){return{end:n.end,index:e,start:n.start}}function y(n){return{end:n.end,start:n.start}}function N(n,e){return n.index-e.index}function E(n,e){return n.start-e.start}var R=class extends Array{constructor(){super(...arguments);this.type=""}toArray(){let e=Array.from(this);return e.type=this.type,e}};function A(n,e){let t=new R;for(let i of n){let s=i.split("-"),a=Number.parseInt(s[0],10),r=Number.parseInt(s[1],10);Number.isNaN(a)?(a=e-r,r=e-1):Number.isNaN(r)&&(r=e-1),r>e-1&&(r=e-1),!(Number.isNaN(a)||Number.isNaN(r)||a>r||a<0)&&t.push({end:r,start:a})}return t}function W(n,e,t){let i=!0;if(t&&"throwError"in t&&t.throwError===!1&&(i=!1),!Number.isInteger(n)){if(i)throw new TypeError("Argument 'size' must be an integer.");return u}if(typeof e!="string"){if(i)throw new TypeError("Argument 'header' must be a string.");return u}let s=e.indexOf("=");if(s===-1)return g;let a=e.slice(s+1).split(","),r=A(a,n);return r.length<1?l:(r.type=e.slice(0,s),t&&t.combine?I(r):r)}module.exports=b(w);
